- 목표
    - 전송 계층의 역할 이해
    - 연결형 통신과 비연결형 통신 이해
    - TCP 이해
    - UDP 이해

## LESSON 23 전송 계층의 역할

다른 네트워크로 데이터를 전송하려면 라우터가 필요함

라우터의 라우팅 기능을 통해 데이터를 전송하더라도 목적지에 도착하지 못할 수도 있다

전송 계층은 목적지에 신뢰할 수 있는 데이터를 전달하기 위해 필요하다

- 오류를 점검하는 기능
- 전송된 데이터의 목적지가 어떤 애플리케이션인지 식별하는 기능

### 연결형 통신과 비연결형 통신

신뢰성/정확성, 효율성으로 구분할 수 있다

연결형 통신 : 신뢰성/정확성은 데이터를 목적지에 문제없이 전달하는 것이고

비연결형 통신 : 효율성은 데이터를 빠르고 효율적으로 전달하는 것이다

연결형 -  TCP

비연결형 - UDP

### 정리

- 전송계층은 데이터를 제대로 전달하는 역할을 하며, 오류를 점검하는 기능도 한다
- 전송 계층은 전송된 데이터의 목적지가 어떤 애플리케이션인지 확인한다
- 연결형 통신은 신뢰할 수 있고 정확하게 데이터를 전송하는 통신 방식이다
- 비연결형 통신은 신회성을 보장하지 않지만 효율적으로 데이터를 전송하는 통신 방식이다


## LESSON 24 TCP의 구조

### TCP?

캡슐화, 역캡슐화

TCP로 전송할 때 붙이는 헤더를 TCP 헤더라고 하고, 이 TCP 헤더가 붙은 데이터를 세그먼트라고 한다. IP헤더와 마찬가지로 순서대로 정보가 나열되어 있다

데이터를 전송하기 전 먼저 연결(connection)이라는 가상의 독점 통신로를 확보해야한다. 이 연결을 확립한 후에 데이터를 전송할 수 있다

> 연결(connection)
TCP 통신에서 정보를 전달하기 위해 사용되는 가상의 통신로로 연결을 확립하고 데이터를 전송한다
> 

코드비트는 TCP 헤더의 107번째 비트부터 112번째 비트까지의 6비트로 연결의 제어 정보가 기록되는 곳이다

코드 비트는 각 비트별로 역할이 있는데, 초깃값은 0이고 비트가 활성화되면 1이 된다. 연결을 확립하려면 이중 SYN, ACK가 필요하다

SYN - 연결 요청

ACK - 확인 응답

### 3-way 핸드셰이크란?

연결은 SYN, ACK을 사용하여 확립할 수 있다. 신뢰할 수 있는 연결을 하려면 데이터를 전송하기 전에 패킷을 교환하는데, 세번 확인한다

패킷 요청을 세 번 교환하는 것을 3-way 핸드셰이크라고 한다

데이터를 전송한 후에는 연결을 끊기 위한 요청을 교환해야하는데

연결을 끊을 때는 FIN, ACK를 사용한다. FIN은 연결 종료