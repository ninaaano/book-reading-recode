**목표**

- IP 이해
- 라우터 이해
- IP 주소 이해
- 서브넷 이해
- 라우팅 이해

## LESSON 17 네트워크 계층의 역할

데이터 링크 계층에서는 이더넷 규칙을 기반으로 데이터의 전송을 담당한다. 이 규칙에 따라 같은 네트워크에 있는 컴퓨터로는 데이터를 전송할 수 있지만, 인터넷이나 다른 네트워크로는 데이터를 전송할 수 없다

수많은 네트워크가 연결된 환경에서 데이터 링크 계층의 기능만으로는 다른 네트워크로 데이터를 전송하기 힘들다

네트워크 간의 통신을 가능하게 하는 것이 네트워크 계층의 역할이다. 이 계층을 통해 다른 네트워크로 데이터를 전송하려면 `라우터`라는 네트워크 장비가 필요하다

라우터는 데이터의 목적지가 정해지면 해당 목적지까지 어떤 경로로 가는 것이 좋은지를 알려주는 기능을 한다

하지만 데이터를 보내려는 상대가 어디에 있는지 모르면 라우터도 목적지까지의 경로를 알려주지 못한다

IP주소로 식별한다

IP 주소는 어떤 네트워크의 어떤 컴퓨터 인지 구분할 수 있도록 하는 주소이다. 이 주소가 있으면 다른 네트워크에 있는 목적지를 지정할 수 있다

IP주소로 목적지를 지정하는 것 뿐 아니라 데이터를 어떤 경로로 보낼지도 결정해야한다. 이처럼 목적지 IP 주소까지 어떤 경로로 데이터를 보낼지 결정하는 것을 라우팅이라고 한다

라우팅은 라우터라는 장비가 한다. 레이어 3 스위치라는 장비도 라우팅을 할수 있긴함

> 레이어 3 스위치
네트워크를 분할하여 라우팅을 할 수 있는 네트워크 장비
> 

라우터에는 라우팅 테이블이 있어서 경로 정보를 등록하고 관리한다

### IP 란?

네트워크 계층에서는 캡슐화 할때 IP 헤더를 붙인다. 버전, 헤더길이, 서비스 유형, 전체 패킷 길이, ID, 조각 상태, 조각의 위치, TTL, 프로토콜, 헤더 체크섬, 출발지 IP 주소, 목적지 IP 주소 순서로 헤더 정보가 구성되어 있다

출발지 IP 주소와 목적지 IP 주소 정도만 기억하면 된다

IP 프로토콜을 사용하여 캡슐화할 때는 데이터에 IP 헤더가 추가되는데, 이렇게 만들어 진 것을 IP 패킷이라고 한다

데이터 링크 계층에서는 프레임이였는데, 네트워크 계층에서는 IP 패킷이다

### 정리

- 서로 다른 네트워크 간에 통신을 하려면 라우터가 필요하다
- 랜 안에서는 MAC 주소만으로도 통신할 수 있지만 다른 네트워크 간에 통신을 하려면 IP 주소가 필요하다
- 경로를 선택하고 목적지 IP 주소까지 어떻게 데이터를 전달할지 결정하는 것을 라우팅이라고 한다
- 라우터의 라우팅 테이블에는 경로 정보가 등록되어 있다
- 네트워크 계층의 대표적인 프로토콜에는 IP가 있다
- 네트워크 계층에서는 캡슐화할 때 IP 헤더를 추가한다